<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini Games</title>
  <style>
    :root{
      --bg:#0f1226; --panel:#181c39; --accent:#ffd44d; --accent-2:#ffb800; --text:#eef2ff; --muted:#8fa0ff; --shadow: rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans"; color:var(--text);
      background: radial-gradient(1200px 600px at 20% -10%, #26306b 0%, #121633 50%, #0b0e22 100%), var(--bg);
      display:grid; place-items:center; padding:24px; }
    .wrap{ width:min(1100px, 95vw); }

    .header{ display:flex; align-items:center; gap:12px; justify-content:space-between; margin-bottom:16px; }
    h1{ margin:0; font-weight:900; letter-spacing:.5px; text-transform:uppercase; font-size: clamp(20px, 3.4vw, 36px); }
    .controls{ display:flex; gap:12px; align-items:center; }

    button, .game{ -webkit-tap-highlight-color: transparent; }

    .start{ background: linear-gradient(180deg, #61ffa7, #0be08f); color:#032b1b; font-weight:800; border:none; padding:14px 18px; border-radius:16px; cursor:pointer;
      box-shadow: 0 6px 0 #049c63, 0 12px 24px var(--shadow); transition: transform .12s ease, filter .12s ease, box-shadow .12s ease; letter-spacing: .3px; }
    .start:hover{ transform: translateY(-1px); filter:brightness(1.03) }
    .start:active{ transform: translateY(2px); box-shadow: 0 3px 0 #049c63, 0 6px 16px var(--shadow); }
    .start[disabled]{ opacity:.6; cursor:not-allowed; transform:none; }

    .toggle{ background:#2a2f5b; color:var(--text); border:1px solid #3b4281; padding:10px 12px; border-radius:12px; cursor:pointer; }

    .panel{ background:linear-gradient(180deg, #1b2044, #141836); border-radius:28px; padding:18px; box-shadow: 0 12px 40px var(--shadow); border: 1px solid #2a2f5b; }

    .grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:16px; }
    @media (max-width: 850px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 520px){ .grid{ grid-template-columns: 1fr;} }

    .game{ display:flex; align-items:center; justify-content:center; text-align:center; padding:18px 12px; min-height:66px; border-radius:18px; cursor:pointer; user-select:none;
      background: linear-gradient(180deg, var(--accent) 0%, var(--accent-2) 100%); color:#3a2a00; font-weight:900; text-shadow: 0 1px 0 rgba(255,255,255,.4);
      border: 3px solid #d49800; box-shadow: 0 8px 0 #b97f00, 0 14px 20px var(--shadow); transition: transform .12s ease, box-shadow .12s ease, filter .12s ease, outline-color .2s ease; }
    .game:hover{ transform: translateY(-2px); filter: brightness(1.03); }
    .game:active{ transform: translateY(2px); box-shadow: 0 4px 0 #b97f00, 0 8px 14px var(--shadow); }

    .game.active{ outline: 4px solid #86f1ff; outline-offset: 2px; filter: saturate(1.2) brightness(1.03); animation: glow .6s ease infinite alternate; }
    @keyframes glow{ from{ box-shadow: 0 8px 0 #b97f00, 0 0 20px rgba(134,241,255,.0), 0 14px 20px var(--shadow);} to{ box-shadow: 0 8px 0 #b97f00, 0 0 30px rgba(134,241,255,.75), 0 14px 24px var(--shadow);} }

    .game.winner{ animation: winnerPulse 1.2s ease-in-out 0s 2 both; }
    @keyframes winnerPulse{ 0%{ transform: scale(1);} 25%{ transform: scale(1.05);} 50%{ transform: scale(0.98);} 75%{ transform: scale(1.06);} 100%{ transform: scale(1);} }

    .footer{ margin-top:12px; color:var(--muted); font-size:14px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    .winner-label{ font-weight:700; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <h1>Mini Games</h1>
      <div class="controls">
        <button class="toggle" id="soundToggle" aria-pressed="true">ðŸ”Š Sound: on</button>
        <button id="startBtn" class="start">ðŸŽ² Start</button>
      </div>
    </div>

    <div class="panel">
      <div id="grid" class="grid" aria-live="polite" aria-label="Mini games list"></div>
    </div>

    <div class="footer">
      <div id="winnerText" class="winner-label"></div>
    </div>
  </div>

  <script>
    // ---------- CONFIG ----------
    const GAME_TITLES = [
      'Scattegories', 'Idioms', 'Mysteries', 'Phonetic Blindtest', 'Rhyming Words',
      'Real or Fake Laws', 'Trailer of the Day', 'Tongue Twister', 'Who am I ?',
      '5 Minutes Challenge', 'Pass the Bomb !', 'Fly Swatter Game', 'The Hangman',
      'The Grammar Game', 'Joker'
    ];

    const BASE_DELAY = 70;     // starting delay between highlights (ms)
    const ACCEL_STEPS = 10;    // how many steps to reach max speed
    const MIN_DELAY = 40;      // max speed (smaller = faster)
    const SLOWDOWN_STEPS = 22; // steps to slow down before stopping

    const grid = document.getElementById('grid');
    const startBtn = document.getElementById('startBtn');
    const winnerText = document.getElementById('winnerText');
    const soundToggle = document.getElementById('soundToggle');

    // Build tiles
    GAME_TITLES.forEach((t, i) => {
      const btn = document.createElement('button');
      btn.className = 'game'; btn.type = 'button'; btn.dataset.index = i; btn.textContent = t;
      btn.addEventListener('click', () => { if (!running) chooseWinner(i); });
      grid.appendChild(btn);
    });

    const items = Array.from(document.querySelectorAll('.game'));
    let running = false; let current = -1;

    // ---- SOUND ----
    let audioEnabled = true; let audioCtx = null;
    function ensureAudio(){ if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); if (audioCtx.state === 'suspended') audioCtx.resume(); }
    soundToggle.addEventListener('click', () => { audioEnabled = !audioEnabled; soundToggle.textContent = (audioEnabled ? 'ðŸ”Š Sound: on' : 'ðŸ”‡ Sound: off'); soundToggle.setAttribute('aria-pressed', String(audioEnabled)); if (audioEnabled) ensureAudio(); });
    function beep(freq=880, duration=0.05, volume=0.05, type='square'){ if (!audioEnabled) return; ensureAudio(); const o=audioCtx.createOscillator(); const g=audioCtx.createGain(); o.type=type; o.frequency.value=freq; g.gain.value=volume; o.connect(g); g.connect(audioCtx.destination); const now=audioCtx.currentTime; g.gain.setValueAtTime(0, now); g.gain.linearRampToValueAtTime(volume, now+0.005); g.gain.exponentialRampToValueAtTime(0.0001, now+duration); o.start(now); o.stop(now+duration+0.005); }
    function tick(){ beep(1100, 0.04, 0.05, 'square'); }
    function winSound(){ [523,659,784,1046].forEach((f,i)=> setTimeout(()=> beep(f,0.07,0.06,'sine'), i*90)); }

    // ---- VISUAL UTILS ----
    function clearActive(){ items.forEach(it => it.classList.remove('active','winner')); }
    function setActive(i){ clearActive(); items[i].classList.add('active'); }
    function chooseWinner(i){ clearActive(); items[i].classList.add('winner'); winnerText.textContent = `Selected: ${items[i].textContent}`; winSound(); }

    // ---- ROULETTE ----
    startBtn.addEventListener('click', startRoulette);
    document.addEventListener('keydown', (e) => { if (e.code === 'Space'){ e.preventDefault(); startRoulette(); } });

    function startRoulette(){
      if (running) return; running = true; startBtn.disabled = true; winnerText.textContent = '';
      const total = items.length; const extraSteps = Math.floor(total * (2.5 + Math.random()*2));
      let step = 0; let delay = BASE_DELAY;
      function scheduleNext(){
        if (step < ACCEL_STEPS){ const t = step/Math.max(1,ACCEL_STEPS); delay = BASE_DELAY - (BASE_DELAY - MIN_DELAY)*t; }
        else if (step > extraSteps - SLOWDOWN_STEPS){ const t = (step - (extraSteps - SLOWDOWN_STEPS)) / SLOWDOWN_STEPS; delay = MIN_DELAY + (220 - MIN_DELAY) * (1 - Math.pow(1-t,3)); }
        setTimeout(loop, delay);
      }
      function loop(){ current = (current + 1) % total; setActive(current); tick(); step++; if (step <= extraSteps) scheduleNext(); else finish(); }
      function finish(){ clearActive(); items[current].classList.add('winner'); winnerText.textContent = `Selected: ${items[current].textContent}`; winSound(); running = false; startBtn.disabled = false; }
      scheduleNext();
    }
  </script>
</body>
</html>
